<Ability type="acid"
		 name="Acid"
		 description="The priest turns normal water into deadly acid, poisoning one enemy."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="5000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="ranged">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="acid" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("poisoned",willpower*1.5);
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="blade_storm"
		 name="Bladestorm"
		 description="The priest strengthens the weaponarms of his comrades, leading to increased attackspeed for everyone. With increasing willpower the priest can hold this effect longer."
		 time="1001.000000"
		 timer_nr="2.000000"
		 timer_value="160000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="basemod_at_allies_in_radius" />
	</Effect>
	<BaseAttributesMod>
		<LuaImplementation>
			setBaseModValue("time",70000);
			setBaseModValue("attack_speed",700)
		</LuaImplementation>
	</BaseAttributesMod>
</Ability>

<Ability type="blazing_shield"
		 name="Blazing Shield"
		 description="The party is surrounded by holy energy. Everyones defense is increased. With increasing willpower the priest can hold this effect longer."
		 time="1001.000000"
		 timer_nr="2.000000"
		 timer_value="160000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="basemod_at_allies_in_radius" />
	</Effect>
	<BaseAttributesMod>
		<LuaImplementation>
			setBaseModValue("time",60000);
			setBaseModValue("block",get(self,"willpower")*0.25)
		</LuaImplementation>
	</BaseAttributesMod>
</Ability>

<Ability type="break_binding"
		 name="Breaking Blow"
		 description="The priest attacks an enemy with energy that causes elementals to be blown back where they come from."
		 time="1.000000"
		 timer_nr="1.000000"
		 timer_value="4000.000000"
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dmg_at_target" />
	</Effect>
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			local magic = get(self,"magic_power");
			local edmg = math.min(willpower/3,magic*2);
			local pdmg = getDamageValue("phys_dmg");
			setDamageValue("phys_dmg", {pdmg[1] + edmg, pdmg[2]  + edmg*2});
			setDamageValue("ice_dmg",{willpower*0.33,willpower*0.66});
			setDamageValue("blockable",false);
			setDamageValue("extra_dmg_race","elemental");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="burning_rage"
		 name="Burning Rage"
		 description="The priest inflicts holy anger in his partymembers. They will attack with greater power. With increasing willpower the priest can hold this effect longer."
		 time="1001.000000"
		 timer_nr="2.000000"
		 timer_value="180000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="basemod_at_allies_in_radius" />
	</Effect>
	<BaseAttributesMod>
		<CppImplementation type="burning_rage" />
		<LuaImplementation>
			setBaseModValue("time",80000);
		</LuaImplementation>
	</BaseAttributesMod>
</Ability>

<Ability type="burning_sun"
		 name="Glaring Sun"
		 description="The priest calls forth a mighty explosion of light that can make every enemy in an area to be affected by blind."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="7000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="ranged"
		 radius="3">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_enemies_around_target" />
	</Effect>
	<Projectile type="light_beam" />
	
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("blind",willpower);
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="cure_blind_mute"
		 name="Gentle Glow"
		 description="The priest bathes a partymember in a mild light, releaving him of blindness and silence."
		 time="501.000000"
		 timer_nr="1.000000"
		 timer_value="3000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party">
	<Effect>
		<CppImplementation type="dynmod_at_target" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("blind_immune_time",1);
			setDynModValue("mute_immune_time",1);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="cure_blind_mute_party"
		 name="Omniscent Eye"
		 description="The party will be immune to blind and berserk for some time. With increasing willpower the priest can hold this effect longer."
		 time="501.000000"
		 timer_nr="2.000000"
		 timer_value="6000.000000" 
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Effect>
		<CppImplementation type="dynmod_at_allies_in_radius" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("blind_immune_time",30000);
			setDynModValue("mute_immune_time",30000);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="cure_conf_bsrk"
		 name="Restore Concentration"
		 description="The priest heals one friend from confusion and berserk."
		 time="501.000000"
		 timer_nr="1.000000"
		 timer_value="3000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_target" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("confused_immune_time",1);
			setDynModValue("berserk_immune_time",1);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="cure_conf_bsrk_party"
		 name="Spirit Shield"
		 description="The priest grants immunity to berserk and confuse to all his partymembers for a small amount of time. With increasing willpower the priest can hold this effect longer."
		 time="501.000000"
		 timer_nr="2.000000"
		 timer_value="6000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_allies_in_radius" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("confused_immune_time",30000);
			setDynModValue("berserk_immune_time",30000);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="cure_pois_burn"
		 name="Ease Pain"
		 description="The priest treats a partymemener with healing water that washes away every poison and stops burns."
		 time="501.000000"
		 timer_nr="1.000000"
		 timer_value="3000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_target" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("poisoned_immune_time",1);
			setDynModValue("burning_immune_time",1);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="cure_pois_burn_party"
		 name="Remedial Water"
		 description="The priests grants every partymember immunity to poison and burn for a small amount of time while healing these effects. With increasing willpower the priest can hold this effect longer."
		 time="501.000000"
		 timer_nr="2.000000"
		 timer_value="6000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000" 
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_allies_in_radius" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("poisoned_immune_time",30000);
			setDynModValue("burning_immune_time",30000);
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="disrupt_binding"
		 name="Dismissing Strike"
		 description="The priest strikes with all his might. While normal monsters have little to fear from this attack elementals will be easily destroyed by it."
		 time="1.000000"
		 timer_nr="1.000000"
		 timer_value="4000.000000"
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dmg_at_target" />
	</Effect>
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			local magic = get(self,"magic_power");
			local edmg = math.min(willpower/3,magic*2);
			local pdmg = getDamageValue("phys_dmg");
			setDamageValue("phys_dmg", {pdmg[1] + edmg*1.5, pdmg[2]  + edmg*3});
			setDamageValue("ice_dmg",{willpower*0.5,willpower});
			setDamageValue("blockable",false);
			setDamageValue("extra_dmg_race","elemental");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="divine_storm"
		 name="God Strike"
		 description="Only strong and durable demons will be able to resist the priests sacred strike."
		 time="1.000000"
		 timer_nr="1.000000"
		 timer_value="6000.000000"
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee"
		 radius="3">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_enemies_around_target" />
	</Effect>
	<Projectile type="divine_beam"/>
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("air_dmg",{willpower*0.5,willpower});
			setDamageValue("extra_dmg_race","demon");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="divine_wind"
		 name="Windstrike"
		 description="The priest creates a vortex with his attack, that can suck a demonic creature right back to hell."
		 time="1.000000"
		 timer_nr="1.000000"
		 timer_value="3000.000000"
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="divine_beam" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("air_dmg",{willpower*0.5,willpower});
			setDamageValue("extra_dmg_race","demon");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="heal"
		 name="Cure"
		 description="The priest restores the hitpoints of one partymemeber."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="20000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_target" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("health",3*get(self,"willpower"));
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="heal_party"
		 name="Grand Cure"
		 description="The priest restores hitpoints for every partymember."
		 time="701.000000"
		 timer_nr="2.000000"
		 timer_value="30000.000000" 
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="dynmod_at_allies_in_radius" />
	</Effect>
	<DynAttributesMod>
		<LuaImplementation>
			setDynModValue("health",3*get(self,"willpower"));
		</LuaImplementation>
	</DynAttributesMod>
</Ability>

<Ability type="holy_fire"
		 name="Sanctified Strike"
		 description="The priest attacks with godly power, easily sending undead creatures back to their graves."
		 time="1.000000"
		 timer_nr="1.000000" 
		 timer_value="4000.000000"
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="light_beam" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			local magic = get(self,"magic_power");
			local edmg = math.min(willpower/3,magic*2);
			local fdmg = getDamageValue("fire_dmg");
			setDamageValue("fire_dmg", {fdmg[1] + willpower*0.33 + edmg, fdmg[2] + willpower*0.66 + edmg*2});
			setDamageValue("ice_dmg",{0,0});
			setDamageValue("blockable",false);
			setDamageValue("extra_dmg_race","undead");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="holy_light" 
		 name="Bright Blow"
		 description="The priest attacks an enemy with a blow imbued with holy power. Undead will be severely damaged by the sacred energies."
		 time="1.000000"
		 timer_nr="1.000000" 
		 timer_value="4000.000000" 
		 base_ability="holy_attack"
		 critical_percent="0.660000"
		 target_type="melee">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="light_beam" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			local magic = get(self,"magic_power");
			local edmg = math.min(willpower/3,magic*2);
			local fdmg = getDamageValue("fire_dmg");
			setDamageValue("fire_dmg", {fdmg[1] + willpower*0.25 + edmg*0.75, fdmg[2] + willpower*0.5 + edmg*1.5});
			setDamageValue("ice_dmg",{0,0});
			setDamageValue("blockable",false);
			setDamageValue("extra_dmg_race","undead");
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="hypnosis"
		 name="Hypnosis"
		 description="The priest confuses a monster, causing it to attack at random."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="4000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="ranged">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="hypnosis" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("confused",willpower);
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="hypnosis2"
		 name="Hypnotic Vortex"
		 description="The priest creates a distracting vortex with the ability to confuse every enemy caught in it."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="7000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="ranged"
		 radius="3">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_enemies_around_target" />
	</Effect>
	<Projectile type="hypnosis" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("confused",willpower);
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="keen_mind"
		 name="Keen Mind"
		 description="The priest increases everyones spellpower for a short time. Everyones spells will surely be more effective. With increasing willpower the priest can hold this effect longer."
		 time="701.000000"
		 timer_nr="2.000000"
		 timer_value="180000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="basemod_at_allies_in_radius" />
	</Effect>
	<BaseAttributesMod>
		<LuaImplementation>
			setBaseModValue("time",70000);
			setBaseModValue("magic_power",get(self,"willpower")*0.5)
		</LuaImplementation>
	</BaseAttributesMod>
</Ability>

<Ability type="light_beam"
		 name="Glistening Glare"
		 description="The priest casts a dazzling light, that can cause an enemy to be affected by blind."
		 time="701.000000"
		 timer_nr="1.000000"
		 timer_value="3000.000000"
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="ranged">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="proj_at_target" />
	</Effect>
	<Projectile type="light_beam" />
	<Damage>
		<LuaImplementation>
			local willpower = get(self,"willpower");
			setDamageValue("blockable",false);
			setDamageValue("blind",willpower);
		</LuaImplementation>	
	</Damage>
</Ability>

<Ability type="magic_shield"
		 name="Magic Shield"
		 description="The priests protecting influence raises the willpower of all partymembers temporarily. With increasing willpower the priest can hold this effect longer."
		 time="1001.000000"
		 timer_nr="2.000000"
		 timer_value="200000.000000" 
		 base_ability="noaction"
		 critical_percent="0.660000"
		 target_type="party_all"
		 radius="12">
	<Flag name="mute_affected" />
	<Effect>
		<CppImplementation type="basemod_at_allies_in_radius" />
	</Effect>
	<BaseAttributesMod>
		<LuaImplementation>
			setBaseModValue("time",60000);
			setBaseModValue("willpower",get(self,"willpower")*0.5)
		</LuaImplementation>
	</BaseAttributesMod>
</Ability>
