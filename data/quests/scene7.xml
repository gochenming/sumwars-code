<Quest name="Das Teichmonster" table_name="scene7">
	
	<Init>
		local a = 2
	</Init>
	
	<Description>
		if (scene7.finished) then
			return _("Quest finished")
		else
			return _("Quest description")
		end
	</Description>
	
	<NPC refname="Soren Windclaw">
		<Topic name="scene7_dialogue">
			<Effect>
				addCameraPosition(0,get(getRole("PL"),"position"),20,40,20);
				addCameraPosition(20000,get(getRole("PL"),"position"),220,60,30);

				speak("MAGast",_("Wow, ist das schoen."));
				speak("WARast",_("Wirst du jetzt sentimental?"));
				speak("MAGast",_("... Der Anblick hat mich nur an mein Leben"));
				speak("ANY",_("Du kannst dich an dein Leben vor der"));
				speak("MAGast",_("... Nur schemenhaft."));
				speak("PL",_("Manchmal wuenschte ich,"));
				speak("WARast",_("Ich kenne genug Menschen,"));
				speak("PL",_("... nur aeu√üerlich."));
				speak("MAGast",_("..."));

				-- (sie schweigen einen Moment.)

				speak("ANY",_("Meint ihr wirklich, dass es"));
				speak("PRIast",_("Selbst die grossen"));
				speak("ANY",_("Ich hoffe du hast"));
				speak("MAGast",_("Warum hat es eigentlich"));

				-- Alle zucken mit den Schultern, keiner weiss es

				speak("PL",_("Wir muessen jetzt weiter."));
				speak("MAGast",_("Nur noch einen Moment bitte."));
				speak("ARCast",_("Was ist das eigentlich dort auf dem Wasser?"));
				speak("ANYast",_("Sieht aus wie ein..."));

				changeTopic("end_cutscene7_fight");
			</Effect>
		</Topic>
		
		<Topic name="end_cutscene7_fight">
			<Effect>
				setCutsceneMode(false);
				scene7_tmp.pondmonster = createObject("fireElemS","entry_west");
				unitSpeak(scene7_tmp.pondmonster,_("*Roar!*"));
			</Effect>
		</Topic>
	</NPC>
	
	
	<Region name="greyCurseLake">
		<Event trigger="create_region" once="true">
			<Effect>
			</Effect>
		</Event>
		
		<Event trigger="player_moved" once="true">
			<Condition>
				-- if (scene6.scene6 == true and scene7.scene7 ~= true) then
				if (scene7.scene7 ~= true) then
					return (unitIsInArea(trigger.player,"greyCurseLakeEntryWestArea"));
				else
					return false;
				end;
			</Condition>
			<Effect>
				createDialogue();
				addSpeaker(trigger.player,"Player");
				addStandardSpeakers("greyCurseLake","entry_west");
				setTopicBase("Soren Windclaw");
				
				-- if(getPlayers()[2] ~= nil) then
					setCutsceneMode(true);
					changeTopic("scene7_dialogue");
				-- else
					-- changeTopic("end_cutscene7_fight");
				-- end;
			</Effect>
		</Event>
	</Region>
	
</Quest>

